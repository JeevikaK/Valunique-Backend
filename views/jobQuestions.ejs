<!DOCTYPE html>
<html lang="en">
    <%- include ("./partials/head.ejs") %>

<body>
    <%- include ("./partials/background.ejs") %>

    <div class="content content_admin">
        <div class="nav-bar">
            <nav>
                <div class="dropdown">
                    <a class="btn dropdown-toggle user" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false" data-adminname="<%= admin.name %>" data-adminemail="<%= admin.email %>" id="admin_profile">
                        <img src="/images/user-img.png" alt="user-icon">
                        <p><%= admin.name %></p>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="/logout">Sign Out</a></li>
                    </ul>
                </div>
            </nav>
            <div class="logo_admin_page">
                <img src="/images/Volvo-Logo-2020.png" alt="logo">
            </div>
            <div class="admin_choices">
                <div class="search">
                    <label for="search">Search:</label>
                    <input type="text" name="search" id="search" placeholder=" By JOBID">
                </div>
                <div class="nav_admin">
                    <div class="applicant">
                        <a href="<%= `/admin?adminEmail=${admin.email}&adminName=${admin.name}` %>"> Applicant</a>
                    </div>
                    <div class="access">
                        <a href="/admin/access">Access Level</a>
                    </div>
                    <div class="job_questions">
                        <a href="/admin/job_questions" class="selected">Job Questions</a>
                    </div>
                </div>
            </div>
        </div>
        <form action="/admin/jobQuestions" method="POST" id="jobQuestionsForm" novalidate>
            <p class="heading">QUESTIONS</p>
            <div class="questions">
                <% for(var i=1; i <= opening.questionNo; i++) { %>
                    <div class="input-group flex-nowrap questions_input">
                        <span class="input-group-text" id="addon-wrapping"><%= i %></span>
                        <input type="text" class="form-control questionInput" name="question<%= i %>" required  aria-describedby="addon-wrapping">
                    </div> 
                <% } %>
                <span class="error" id="questionError" style="color: red; font-weight: 400; font-size: 0.8em;"></span>
            </div>
            <div class="skills_needed">
                <p class="skills heading">SKILLS</p>
                <div class="alert alert-success" role="alert">
                    <p>Please enter the options for each type seperated by a ‘,’ .</p>
                    <hr>
                    <p class="mb-0">Eg: <br>
                        Type 1: Python,Java,Node <br>
                        Type 2: MySQL,Oracle,PostgreSQL <br>
                    </p>
                </div>
            </div>
            <div class="skills_options">
                <% for(var i=1; i <= opening.skillNo; i++) { %>
                    <div class="input-group flex-nowrap skills_input">
                        <span class="input-group-text">Type <%= i %></span>
                        <input type="text" class="form-control skillsInput" name="skillType<%= i %>" required aria-describedby="addon-wrapping">
                    </div>
                    
                <% } %>
                <span class="error" id="skillError" style="color: red; font-weight: 400; font-size: 0.8em;"></span>
            </div>

            <% if(opening.recruiterNo!=0 && recruiters.length!=0) { %>
                <div class="add_recruiter">
                    <p class="recruiter heading">ADD RECRUITER</p>
                    <div class="select_recruiter">
                    <% for(var i=1; i <= opening.recruiterNo; i++) { %>
                        <select class="form-select recruiterInput" name="recruiter<%= i %>" required >
                            <option value="" selected hidden>Add Recruiter <%= i %></option>
                            <% for(var j=0; j < recruiters.length; j++) { %>
                                <option value="<%= recruiters[j].adminID %>"><%= recruiters[j].name %> (<%= recruiters[j].email %>)</option>
                            <% } %>
                        </select>
                    <% } %>
                    </div>
                    <span class="error" id="recruiterError" style="color: red; font-weight: 400; font-size: 0.8em;"></span>
                </div>
            <% } %>
            <div class="submit">
                <input type="submit" name="Submit" id="" class="new_questions_submit">
            </div>
        </form>
        <div class="no_applications">
            <img src="/images/no_applications.png" alt="no_applications">
        </div>
        <div class="no_results">
            <img src="/images/no_results.png" alt="no results found" id="no_results">
        </div>
    </div>

        <%- include ("./partials/footer.ejs") %>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
    <script
        src="https://code.jquery.com/jquery-3.6.0.js"
        integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
        crossorigin="anonymous"></script>
    <script src="/js/jobQuestions.js"></script>
    </body>
</html>